<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUBWAY 써브웨이</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
            <!------ Include the above in your HEAD tag ---------->
            <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"  media="screen">
            <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
</head>

<body>
<header>
    <div class="inner">
        <h1><a href="index.html"><img src="img/subwayLogo.png" alt="서브웨이 로고"></a></h1>
        <nav>
            <ul>
                <li><a href="login.html">로그인</a></li>
                <li><a href="agreement.html">회원가입</a></li>
            </ul>
        </nav>
    </div>
</header>

<section class="search">
    <h1>검색 조건을 선택해주세요.</h1>
    <div class="inner">
        <table>
            <caption class="hidden">검색을 위한 조건 테이블</caption>
            <tr>
                <th scope="row">메뉴</th>
                <td>
                    <div>
                    <label for="스파이시 바비큐">스파이시 바비큐</label>
                    <input type="radio" name="메뉴" value="스파이시 바비큐">
                    </div>
                    <div>
                    <label for="스파이시 바비큐">스파이시 바비큐</label>
                    <input type="radio" name="메뉴" value="스파이시 바비큐">
                </div>
                <div>
                    <label for="스파이시 바비큐">스파이시 바비큐</label>
                    <input type="radio" name="메뉴" value="스파이시 바비큐">
                </div>
                </td>
            </tr>
            <tr>
                <th scope="row">싫은 채소</th>
                <td>
                    <div>
                    <label for="오이 제외">오이 제외</label>
                    <input type="radio" name="싫은 채소" value="오이 제외">
                    </div>
                <div>
                    <label for="오이 제외">오이 제외</label>
                    <input type="radio" name="싫은 채소" value="오이 제외">
                </div>
                <div>
                    <label for="오이 제외">오이 제외</label>
                    <input type="radio" name="싫은 채소" value="오이 제외">
                </div>
                </td>
            </tr>
        </table>
        <div class="slideBox">
              <div data-role="rangeslider">
                <label for="price-min">가격:</label>
                <input type="range" name="price-min" id="price-min" value="200" min="0" max="1000">
                <label for="price-max">Price:</label>
                <input type="range" name="price-max" id="price-max" value="800" min="0" max="1000">
              </div>

              <div data-role="rangeslider">
                <label for="price-min">칼로리:</label>
                <input type="range" name="price-min" id="price-min" value="200" min="0" max="1000">
                <label for="price-max">Price:</label>
                <input type="range" name="price-max" id="price-max" value="800" min="0" max="1000">
              </div>

              <div data-role="rangeslider">
                <label for="price-min">단백질:</label>
                <input type="range" name="price-min" id="price-min" value="200" min="0" max="1000">
                <label for="price-max">Price:</label>
                <input type="range" name="price-max" id="price-max" value="800" min="0" max="1000">
              </div>

              <div data-role="rangeslider">
                <label for="price-min">지방:</label>
                <input type="range" name="price-min" id="price-min" value="200" min="0" max="1000">
                <label for="price-max">Price:</label>
                <input type="range" name="price-max" id="price-max" value="800" min="0" max="1000">
              </div>
        </div>
        
        <div class="drop">
        <div class="dropBox">
            <select>
                <option selected>정렬</option>
                <option value="최신순">최신순</option>
                <option value="가격순">가격순</option>
                <option value="추천순">추천순</option>
                <option value="최신순">비추천순</option>
                <option value="가격순">칼로리순</option>
                <option value="추천순">단백질순</option>
                <option value="추천순">지방순</option>
            </select>
          
        </div>
        <div class="sortOption">
            <div>
                <label for="오름차 순">오름차 순</label>
                <input type="radio" name="정렬" value="오름차 순">
                </div>
            <div>
                <label for="내림차 순">내림차 순</label>
                <input type="radio" name="정렬" value="내림차 순">
            </div>
        </div>
    </div>


    <button>
        검색
    </button>
    </div>
</section>


<footer>
    <div class="inner">
        <div class="footerMenu">
            <ul>
                <li>개인정보처리방침</li>
                <li>서비스이용약관</li>
            </ul>
        </div>
        <div class="footerMenu2">
            <ul>
                <li>회사명 : ㈜서브웨이</li>
                <li>사업자등록번호 : 123-45-67890</li>
                <li> COPYRIGHT(C) 2023 ㈜서브웨이. CO.LTD ALL RIGHT RESERVED.</li>
            </ul>
        </div>
    </div>
</footer>

<script>
    window.onload = function () {
        dataSettingByUrl("https://api.sub-recipe.com/materials/sandwich-bases");
        dataSettingByUrl("https://api.sub-recipe.com/materials/breads")
        dataSettingByUrl("https://api.sub-recipe.com/materials/cheeses")
        dataSettingByUrl("https://api.sub-recipe.com/materials/veggies")
        dataSettingByUrl("https://api.sub-recipe.com/materials/sauces")
    };

    async function dataSettingByUrl(url) {

        let responsePromise = fetch(url)
            .then(data => {
                if (data.ok) {
                    return data.json();
                }
            })
            .then(response => {
                if (url.match("sandwich-bases")) {
                    setSandwichBaseData(response.sandwichBases)
                    return;
                }
                if (url.match("breads")) {
                    setBreadsData(response.breadDataList)
                    return;
                }
                if (url.match("cheeses")) {
                    setCheesesData(response.cheeseDataList)
                    return;
                }
                if (url.match("veggies")) {
                    setVeggiesData(response.veggieDataList)
                    return;
                }
                if (url.match("sauces")) {
                    setSaucesData(response.sauceDataList)
                    return;
                }
            });

    }

    function setSandwichBaseData(sandwichBaseDataList) {

        const ulList = document.getElementById("sandwich-list");

        sandwichBaseDataList.forEach(item => {
            const liElement = document.createElement('li');
            liElement.innerHTML = `
            <div class="card  border-success mb-3" style="width: 15rem;">
              <div class="card-body">
                <h5 class="card-title" id="title">${item.korName}</h5>
                <img src="${item.image}" class="card-img-top" alt="...">
                <p class="card-text"><span class="text-subject">kcal : </span><span class="card-text-value">${item.kcal}</span></p>
                <p class="card-text"><span class="text-subject">fat : </span><span class="card-text-value">${item.fat}</span></p>
                <p class="card-text"><span class="text-subject">protein : </span><span class="card-text-value">${item.protein}</span></p>
                <a href="#" class="btn btn-primary">추가</a>
              </div>
            </div>
          `;
            ulList.appendChild(liElement);
        })

    }

    function setBreadsData(breadsDataList) {

        const ulList = document.getElementById("breads-list");

        breadsDataList.forEach(item => {
            const liElement = document.createElement('li');
            liElement.innerHTML = `
            <div class="card  border-success mb-3" style="width: 15rem;">
              <div class="card-body">
                <h5 class="card-title" id="title">${item.name}</h5>
                <img src="${item.image}" class="card-img-top" alt="...">
                <p class="card-text"><span class="text-subject">kcal : </span><span class="card-text-value">${item.kcal}</span></p>
                <p class="card-text"><span class="text-subject">fat : </span><span class="card-text-value">${item.fat}</span></p>
                <p class="card-text"><span class="text-subject">protein : </span><span class="card-text-value">${item.protein}</span></p>
                <a href="#" class="btn btn-primary">추가</a>
              </div>
            </div>
          `;
            ulList.appendChild(liElement);
        })
    }

    function setCheesesData(cheeseDataList) {

        const ulList = document.getElementById("cheese-list");

        cheeseDataList.forEach(item => {
            const liElement = document.createElement('li');
            liElement.innerHTML = `
            <div class="card  border-success mb-3" style="width: 15rem;">
              <div class="card-body">
                <h5 class="card-title" id="title">${item.name}</h5>
                <img src="${item.image}" class="card-img-top" alt="...">
                <p class="card-text"><span class="text-subject">kcal : </span><span class="card-text-value">${item.kcal}</span></p>
                <p class="card-text"><span class="text-subject">fat : </span><span class="card-text-value">${item.fat}</span></p>
                <p class="card-text"><span class="text-subject">protein : </span><span class="card-text-value">${item.protein}</span></p>
                <a href="#" class="btn btn-primary">추가</a>
              </div>
            </div>
          `;
            ulList.appendChild(liElement);
        })

    }

    function setVeggiesData(veggieDataList) {

        const ulList = document.getElementById("veggie-list");

        veggieDataList.forEach(item => {
            const liElement = document.createElement('li');

            liElement.innerHTML = `
            <div class="card  border-success mb-3" style="width: 15rem;">
              <div class="card-body">
                <h5 class="card-title" id="title">${item.name}</h5>
                <img src="${item.image}" class="card-img-top" alt="...">
                <p class="card-text"><span class="text-subject">kcal : </span><span class="card-text-value">${item.kcal}</span></p>
                <a href="#" class="btn btn-primary">추가</a>
              </div>
            </div>
          `;
            ulList.appendChild(liElement);
        })

    }

    function setSaucesData(saucesDataList) {

        const ulList = document.getElementById("sauce-list");

        saucesDataList.forEach(item => {
            const liElement = document.createElement('li');

            liElement.innerHTML = `
            <div class="card  border-success mb-3" style="width: 15rem;">
              <div class="card-body">
                <h5 class="card-title" id="title">${item.name}</h5>
                <img src="${item.image}" class="card-img-top" alt="...">
                <p class="card-text"><span class="text-subject">kcal : </span><span class="card-text-value">${item.kcal}</span></p>
                <a href="#" class="btn btn-primary">추가</a>
              </div>
            </div>
          `;
            ulList.appendChild(liElement);
        })

    }
</script>

</body>